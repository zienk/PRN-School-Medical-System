<Window x:Class="WPF.SchoolMedicalManagementSystem.Pages.Nurse.StudentDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Chi tiết hồ sơ học sinh" Height="700" Width="900">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock x:Name="txtStudentFullName" Text="Chi tiết hồ sơ: [Tên học sinh]" FontSize="20" FontWeight="Bold" Margin="0,0,0,10"/>

        <GroupBox Header="Thông tin sức khỏe cơ bản" Grid.Row="0" Margin="0,10">
            <StackPanel Orientation="Vertical">
                <Grid Margin="0,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Chiều cao (cm):" Grid.Column="0" Margin="0,0,5,0"/>
                    <TextBlock x:Name="txtHeight" Grid.Column="1"/>
                    <TextBlock Text="Cân nặng (kg):" Grid.Column="2" Margin="10,0,5,0"/>
                    <TextBlock x:Name="txtWeight" Grid.Column="3"/>
                </Grid>
                <TextBlock Text="Bệnh mãn tính:"/>
                <TextBox x:Name="txtChronicDiseases" IsReadOnly="True" TextWrapping="Wrap" Height="50" VerticalScrollBarVisibility="Auto"/>
                <TextBlock Text="Dị ứng:"/>
                <TextBox x:Name="txtAllergies" IsReadOnly="True" TextWrapping="Wrap" Height="50" VerticalScrollBarVisibility="Auto"/>
                <TextBlock Text="Ghi chú hồ sơ:" Margin="0,5,0,0"/>
                <TextBox x:Name="txtHealthRecordNotes" IsReadOnly="True" TextWrapping="Wrap" Height="50" VerticalScrollBarVisibility="Auto"/>
            </StackPanel>
        </GroupBox>

        <GroupBox Header="Kết quả khám sức khỏe định kỳ" Grid.Row="1" Margin="0,10">
            <DataGrid x:Name="dgHealthCheckupResults" AutoGenerateColumns="False" IsReadOnly="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Ngày khám" Binding="{Binding CheckupDate, StringFormat='dd/MM/yyyy'}" Width="100"/>
                    <DataGridTextColumn Header="Chiều cao" Binding="{Binding Height}" Width="70"/>
                    <DataGridTextColumn Header="Cân nặng" Binding="{Binding Weight}" Width="70"/>
                    <DataGridTextColumn Header="BMI" Binding="{Binding BMI}" Width="50"/>
                    <DataGridTextColumn Header="Thị lực" Binding="{Binding Vision}" Width="80"/>
                    <DataGridTextColumn Header="Tình trạng răng miệng" Binding="{Binding DentalStatus}" Width="*"/>
                    <DataGridTextColumn Header="Huyết áp" Binding="{Binding BloodPressure}" Width="100"/>
                    <DataGridTextColumn Header="Nhịp tim" Binding="{Binding HeartRate}" Width="70"/>
                    <DataGridTextColumn Header="Tình trạng chung" Binding="{Binding GeneralCondition}" Width="*"/>
                    <DataGridTextColumn Header="Ghi chú" Binding="{Binding Notes}" Width="*"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <GroupBox Header="Lịch sử tiêm chủng" Grid.Row="2" Margin="0,10">
            <DataGrid x:Name="dgVaccinationRecords" AutoGenerateColumns="False" IsReadOnly="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Tên vaccine" Binding="{Binding VaccinationCampaign.VaccineName}" Width="*"/>
                    <DataGridTextColumn Header="Ngày tiêm" Binding="{Binding VaccinationDate, StringFormat='dd/MM/yyyy'}" Width="100"/>
                    <DataGridTextColumn Header="Kết quả" Binding="{Binding Result}" Width="*"/>
                    <DataGridTextColumn Header="Ghi chú" Binding="{Binding Notes}" Width="*"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <GroupBox Header="Các sự cố y tế" Grid.Row="3" Margin="0,10">
            <DataGrid x:Name="dgIncidentRecords" AutoGenerateColumns="False" IsReadOnly="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Loại sự cố" Binding="{Binding MedicalEventType.EventTypeName}" Width="*"/>
                    <DataGridTextColumn Header="Ngày xảy ra" Binding="{Binding IncidentDate, StringFormat='dd/MM/yyyy HH:mm'}" Width="120"/>
                    <DataGridTextColumn Header="Mô tả" Binding="{Binding Description}" Width="*"/>
                    <DataGridTextColumn Header="Hành động đã thực hiện" Binding="{Binding ActionsTaken}" Width="*"/>
                    <DataGridTextColumn Header="Mức độ nghiêm trọng" Binding="{Binding SeverityLevel.SeverityName}" Width="120"/>
                    <DataGridTextColumn Header="Địa điểm" Binding="{Binding Location}" Width="100"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>
    </Grid>
</Window>